@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans-value), ui-sans-serif, system-ui, sans-serif;
  --font-serif: var(--font-serif-value), Georgia, "Times New Roman", serif;
  --font-mono: ui-monospace, monospace;
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 0.75rem;

  /* ADR-005: Warm-Minimalistisch */
  /* Hintergrund: Warmes Creme #FEF1D0 */
  --background: #FEF1D0;
  --foreground: #0042AF;

  /* Cards: leicht aufgehelltes Creme */
  --card: #FFF8E7;
  --card-foreground: #0042AF;
  --popover: #FFF8E7;
  --popover-foreground: #0042AF;

  /* Primary: Tiefes Blau #0042AF */
  --primary: #0042AF;
  --primary-foreground: #FEF1D0;

  /* Secondary: Aufgehelltes Blau */
  --secondary: #E8EFFA;
  --secondary-foreground: #0042AF;

  /* Muted */
  --muted: #F5E6C0;
  --muted-foreground: #6B7A99;

  /* Accent: Soft Tangerine #FF8C42 */
  --accent: #FF8C42;
  --accent-foreground: #FFFFFF;

  /* Destructive */
  --destructive: #DC2626;

  /* Borders & Inputs */
  --border: #E8DFC0;
  --input: #E8DFC0;
  --ring: #0042AF;

  /* Charts */
  --chart-1: #0042AF;
  --chart-2: #FF8C42;
  --chart-3: #4A7ADB;
  --chart-4: #FFB380;
  --chart-5: #002D7A;

  /* Sidebar */
  --sidebar: #FBF0CE;
  --sidebar-foreground: #0042AF;
  --sidebar-primary: #0042AF;
  --sidebar-primary-foreground: #FEF1D0;
  --sidebar-accent: #FF8C42;
  --sidebar-accent-foreground: #FFFFFF;
  --sidebar-border: #E8DFC0;
  --sidebar-ring: #0042AF;

  /* Semantic Colors */
  --success: #16A34A;
  --warning: #F59E0B;
}

/* Dark Mode: Hauptfarben getauscht (Creme ↔ Blau) */
.dark {
  --background: #0042AF;
  --foreground: #FEF1D0;

  --card: #0052C4;
  --card-foreground: #FEF1D0;
  --popover: #0052C4;
  --popover-foreground: #FEF1D0;

  --primary: #FEF1D0;
  --primary-foreground: #0042AF;

  --secondary: #003080;
  --secondary-foreground: #FEF1D0;

  --muted: #003890;
  --muted-foreground: #A0B8D8;

  --accent: #FF8C42;
  --accent-foreground: #FFFFFF;

  --destructive: #EF4444;

  --border: #1A5BC0;
  --input: #1A5BC0;
  --ring: #FEF1D0;

  --chart-1: #FEF1D0;
  --chart-2: #FF8C42;
  --chart-3: #7AA4E8;
  --chart-4: #FFB380;
  --chart-5: #C8DDF5;

  --sidebar: #003590;
  --sidebar-foreground: #FEF1D0;
  --sidebar-primary: #FEF1D0;
  --sidebar-primary-foreground: #0042AF;
  --sidebar-accent: #FF8C42;
  --sidebar-accent-foreground: #FFFFFF;
  --sidebar-border: #1A5BC0;
  --sidebar-ring: #FEF1D0;

  --success: #22C55E;
  --warning: #FBBF24;
}

/* Theme: Birthday - Verspielt, bunt */
[data-theme="birthday"] {
  --background: #FFF0F5;
  --foreground: #6B21A8;
  --card: #FFF5F9;
  --card-foreground: #6B21A8;
  --primary: #9333EA;
  --primary-foreground: #FFFFFF;
  --secondary: #F5D0FE;
  --secondary-foreground: #6B21A8;
  --accent: #F472B6;
  --accent-foreground: #FFFFFF;
  --border: #F0D0E8;
  --input: #F0D0E8;
  --ring: #9333EA;
  --muted: #FAE8F0;
  --muted-foreground: #9B7AAF;
}

/* Theme: Christmas - Immersiv, dunkles Tannengrün */
[data-theme="christmas"] {
  --background: #14532D;
  --foreground: #D4A84B;
  --card: #802429;
  --card-foreground: #D4A84B;
  --primary: #D4A84B;
  --primary-foreground: #14532D;
  --secondary: #802429;
  --secondary-foreground: #D4A84B;
  --accent: #D4A84B;
  --accent-foreground: #14532D;
  --border: #D4A84B;
  --input: #2D7A4A;
  --ring: #D4A84B;
  --muted: #1A6B3A;
  --muted-foreground: #A8C4A0;
}

/* Theme: Wedding - Elegant, dezent */
[data-theme="wedding"] {
  --background: #FFF9F5;
  --foreground: #44403C;
  --card: #FFFCFA;
  --card-foreground: #44403C;
  --primary: #B08D82;
  --primary-foreground: #FFFFFF;
  --secondary: #F5EDE8;
  --secondary-foreground: #78716C;
  --accent: #D4A894;
  --accent-foreground: #FFFFFF;
  --border: #E8E0DA;
  --input: #E8E0DA;
  --ring: #B08D82;
  --muted: #F0EAE5;
  --muted-foreground: #A8A0A0;
}

/* Theme: Baby - Sanft, pastellig */
[data-theme="baby"] {
  --background: #F0F7FF;
  --foreground: #1E3A5F;
  --card: #F5FAFF;
  --card-foreground: #1E3A5F;
  --primary: #60A5FA;
  --primary-foreground: #FFFFFF;
  --secondary: #FCE4EC;
  --secondary-foreground: #AD1457;
  --accent: #F9A8D4;
  --accent-foreground: #831843;
  --border: #D0E0F0;
  --input: #D0E0F0;
  --ring: #60A5FA;
  --muted: #E8F0FA;
  --muted-foreground: #7A9ABB;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
  [data-theme] {
    color: var(--foreground);
    background-color: var(--background);
  }
  .bg-card {
    color: var(--card-foreground);
  }
}

/* Dark mode logo switching */
.logo-dark {
  display: none;
}

.dark .logo-light {
  display: none;
}

.dark .logo-dark {
  display: block;
}

/* Scroll animations */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out forwards;
}

.animate-on-scroll {
  opacity: 0;
}

.animate-on-scroll.is-visible {
  animation: fade-in-up 0.6s ease-out forwards;
}

/* ========================================
   Immersive Theme Animations
   ======================================== */

/* Christmas: Snowflakes */
@keyframes snowfall {
  0% {
    background-position: 0 -100vh, 0 -100vh, 0 -100vh;
  }
  100% {
    background-position: 0 100vh, 0 100vh, 0 100vh;
  }
}

[data-theme="christmas"] > * {
  position: relative;
  z-index: 1;
}

[data-theme="christmas"]::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background-image:
    radial-gradient(2px 2px at 20% 10%, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
    radial-gradient(2px 2px at 40% 30%, rgba(255, 255, 255, 0.6) 50%, transparent 50%),
    radial-gradient(3px 3px at 60% 50%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
    radial-gradient(2px 2px at 80% 20%, rgba(255, 255, 255, 0.5) 50%, transparent 50%),
    radial-gradient(2px 2px at 10% 60%, rgba(255, 255, 255, 0.6) 50%, transparent 50%),
    radial-gradient(3px 3px at 50% 80%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
    radial-gradient(2px 2px at 70% 40%, rgba(255, 255, 255, 0.5) 50%, transparent 50%),
    radial-gradient(2px 2px at 90% 70%, rgba(255, 255, 255, 0.6) 50%, transparent 50%),
    radial-gradient(3px 3px at 30% 90%, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
    radial-gradient(2px 2px at 85% 55%, rgba(255, 255, 255, 0.5) 50%, transparent 50%);
  background-size:
    300px 600px,
    400px 700px,
    350px 500px,
    250px 650px,
    320px 550px,
    380px 620px,
    280px 580px,
    360px 640px,
    300px 560px,
    340px 600px;
  animation: snowfall 12s linear infinite;
  will-change: background-position;
}

/* Christmas SVG Decorations */
.christmas-decorations {
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
}

@keyframes christmas-float-gentle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-12px);
  }
}

@keyframes christmas-twinkle {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
  }
}

@keyframes christmas-sway {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(2deg);
  }
  75% {
    transform: rotate(-2deg);
  }
}

.christmas-float-gentle {
  animation: christmas-float-gentle 6s ease-in-out infinite;
  will-change: transform;
}

.christmas-float-gentle-delayed {
  animation: christmas-float-gentle 8s ease-in-out 2s infinite;
  will-change: transform;
}

.christmas-twinkle {
  animation: christmas-twinkle 4s ease-in-out infinite;
  will-change: opacity;
}

.christmas-twinkle-delayed {
  animation: christmas-twinkle 5s ease-in-out 1.5s infinite;
  will-change: opacity;
}

.christmas-sway {
  transform-origin: bottom center;
  animation: christmas-sway 7s ease-in-out infinite;
  will-change: transform;
}

.christmas-sway-delayed {
  transform-origin: bottom center;
  animation: christmas-sway 9s ease-in-out 3s infinite;
  will-change: transform;
}

/* Birthday: Confetti */
@keyframes confetti-fall {
  0% {
    background-position: 0 -100vh, 0 -100vh, 0 -100vh;
  }
  100% {
    background-position: 50px 100vh, -30px 100vh, 20px 100vh;
  }
}

[data-theme="birthday"] > * {
  position: relative;
  z-index: 1;
}

[data-theme="birthday"]::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background-image:
    linear-gradient(135deg, #F472B6 3px, transparent 3px),
    linear-gradient(225deg, #A78BFA 3px, transparent 3px),
    linear-gradient(45deg, #FBBF24 3px, transparent 3px),
    linear-gradient(315deg, #34D399 2px, transparent 2px),
    linear-gradient(135deg, #60A5FA 2px, transparent 2px),
    linear-gradient(225deg, #FB923C 3px, transparent 3px),
    linear-gradient(45deg, #E879F9 2px, transparent 2px),
    linear-gradient(315deg, #F472B6 3px, transparent 3px);
  background-size:
    200px 400px,
    250px 500px,
    180px 450px,
    220px 380px,
    260px 420px,
    190px 460px,
    240px 390px,
    210px 440px;
  opacity: 0.35;
  animation: confetti-fall 8s linear infinite;
  will-change: background-position;
}

/* Wedding: Shimmer */
@keyframes shimmer-glow {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.05);
  }
}

@keyframes sparkle-drift {
  0% {
    background-position: 0 0, 0 0, 0 0;
  }
  100% {
    background-position: 100px 60px, -80px 40px, 50px -30px;
  }
}

[data-theme="wedding"] > * {
  position: relative;
  z-index: 1;
}

[data-theme="wedding"]::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background: radial-gradient(ellipse at 30% 20%, rgba(212, 168, 148, 0.15) 0%, transparent 60%),
              radial-gradient(ellipse at 70% 60%, rgba(176, 141, 130, 0.1) 0%, transparent 60%),
              radial-gradient(ellipse at 50% 90%, rgba(212, 168, 148, 0.12) 0%, transparent 50%);
  animation: shimmer-glow 6s ease-in-out infinite;
  will-change: opacity, transform;
}

[data-theme="wedding"]::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background-image:
    radial-gradient(1px 1px at 15% 25%, rgba(212, 168, 148, 0.5) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 45% 55%, rgba(176, 141, 130, 0.4) 50%, transparent 50%),
    radial-gradient(1px 1px at 75% 35%, rgba(212, 168, 148, 0.5) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 25% 75%, rgba(176, 141, 130, 0.3) 50%, transparent 50%),
    radial-gradient(1px 1px at 85% 85%, rgba(212, 168, 148, 0.4) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 55% 15%, rgba(176, 141, 130, 0.5) 50%, transparent 50%);
  background-size:
    300px 300px,
    350px 350px,
    280px 280px,
    320px 320px,
    290px 290px,
    340px 340px;
  animation: sparkle-drift 10s ease-in-out infinite alternate;
  will-change: background-position;
}

/* Baby: Floating Clouds */
@keyframes cloud-float {
  0% {
    transform: translateX(0) translateY(0);
  }
  25% {
    transform: translateX(20px) translateY(-10px);
  }
  50% {
    transform: translateX(-10px) translateY(5px);
  }
  75% {
    transform: translateX(15px) translateY(-5px);
  }
  100% {
    transform: translateX(0) translateY(0);
  }
}

@keyframes cloud-float-slow {
  0% {
    transform: translateX(0) translateY(0);
  }
  33% {
    transform: translateX(-15px) translateY(8px);
  }
  66% {
    transform: translateX(10px) translateY(-6px);
  }
  100% {
    transform: translateX(0) translateY(0);
  }
}

[data-theme="baby"] > * {
  position: relative;
  z-index: 1;
}

[data-theme="baby"]::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(ellipse 120px 40px at 15% 15%, rgba(96, 165, 250, 0.08) 50%, transparent 50%),
    radial-gradient(ellipse 150px 50px at 75% 25%, rgba(249, 168, 212, 0.06) 50%, transparent 50%),
    radial-gradient(ellipse 100px 35px at 40% 70%, rgba(96, 165, 250, 0.07) 50%, transparent 50%),
    radial-gradient(ellipse 130px 45px at 85% 80%, rgba(249, 168, 212, 0.05) 50%, transparent 50%),
    radial-gradient(ellipse 110px 38px at 25% 45%, rgba(96, 165, 250, 0.06) 50%, transparent 50%);
  animation: cloud-float 20s ease-in-out infinite;
  will-change: transform;
}

[data-theme="baby"]::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(ellipse 140px 48px at 55% 10%, rgba(249, 168, 212, 0.05) 50%, transparent 50%),
    radial-gradient(ellipse 90px 30px at 20% 85%, rgba(96, 165, 250, 0.06) 50%, transparent 50%),
    radial-gradient(ellipse 160px 55px at 65% 55%, rgba(249, 168, 212, 0.04) 50%, transparent 50%),
    radial-gradient(ellipse 100px 36px at 90% 40%, rgba(96, 165, 250, 0.05) 50%, transparent 50%);
  animation: cloud-float-slow 25s ease-in-out infinite;
  will-change: transform;
}

/* ========================================
   Theme Preview Cards (miniature animations)
   ======================================== */

/* Override: no z-index stacking in preview cards */
.theme-preview [data-theme] > * {
  position: static;
  z-index: auto;
}

/* Override: absolute instead of fixed for contained animations */
.theme-preview [data-theme]::before,
.theme-preview [data-theme]::after {
  position: absolute !important;
}

/* Preview animation element */
.theme-preview-animation {
  position: absolute;
  inset: 0;
}

/* Christmas preview */
.theme-preview [data-theme="christmas"] .theme-preview-animation {
  background-image:
    radial-gradient(2px 2px at 25% 20%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
    radial-gradient(2px 2px at 50% 50%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 75% 30%, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
    radial-gradient(2px 2px at 35% 70%, rgba(255, 255, 255, 0.6) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 65% 80%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
    radial-gradient(2px 2px at 15% 55%, rgba(255, 255, 255, 0.5) 50%, transparent 50%);
  background-size: 40px 60px, 50px 70px, 35px 50px, 45px 55px, 38px 65px, 42px 58px;
  animation: snowfall-preview 4s linear infinite;
}

@keyframes snowfall-preview {
  0% { background-position: 0 -60px, 0 -60px, 0 -60px, 0 -60px, 0 -60px, 0 -60px; }
  100% { background-position: 0 60px, 0 60px, 0 60px, 0 60px, 0 60px, 0 60px; }
}

/* Birthday preview */
.theme-preview [data-theme="birthday"] .theme-preview-animation {
  background-image:
    linear-gradient(135deg, #F472B6 2px, transparent 2px),
    linear-gradient(225deg, #A78BFA 2px, transparent 2px),
    linear-gradient(45deg, #FBBF24 2px, transparent 2px),
    linear-gradient(315deg, #34D399 2px, transparent 2px),
    linear-gradient(135deg, #60A5FA 2px, transparent 2px);
  background-size: 25px 35px, 30px 40px, 22px 38px, 28px 32px, 26px 36px;
  opacity: 0.5;
  animation: confetti-preview 3s linear infinite;
}

@keyframes confetti-preview {
  0% { background-position: 0 -60px, 0 -60px, 0 -60px, 0 -60px, 0 -60px; }
  100% { background-position: 5px 60px, -3px 60px, 4px 60px, -2px 60px, 3px 60px; }
}

/* Wedding preview */
.theme-preview [data-theme="wedding"] .theme-preview-animation {
  background:
    radial-gradient(ellipse at 30% 30%, rgba(212, 168, 148, 0.25) 0%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(176, 141, 130, 0.2) 0%, transparent 60%);
  animation: shimmer-glow 4s ease-in-out infinite;
}

.theme-preview [data-theme="wedding"] .theme-preview-animation::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(1px 1px at 20% 30%, rgba(212, 168, 148, 0.6) 50%, transparent 50%),
    radial-gradient(1.5px 1.5px at 60% 50%, rgba(176, 141, 130, 0.5) 50%, transparent 50%),
    radial-gradient(1px 1px at 80% 25%, rgba(212, 168, 148, 0.6) 50%, transparent 50%),
    radial-gradient(1px 1px at 40% 75%, rgba(176, 141, 130, 0.4) 50%, transparent 50%);
  background-size: 40px 40px, 45px 45px, 35px 35px, 42px 42px;
  animation: sparkle-drift 6s ease-in-out infinite alternate;
}

/* Baby preview */
.theme-preview [data-theme="baby"] .theme-preview-animation {
  background:
    radial-gradient(ellipse 30px 12px at 25% 30%, rgba(96, 165, 250, 0.15) 50%, transparent 50%),
    radial-gradient(ellipse 35px 14px at 70% 60%, rgba(249, 168, 212, 0.12) 50%, transparent 50%),
    radial-gradient(ellipse 25px 10px at 50% 80%, rgba(96, 165, 250, 0.1) 50%, transparent 50%);
  animation: cloud-float 12s ease-in-out infinite;
}

/* Disable page-level pseudo-elements inside preview cards */
.theme-preview [data-theme="christmas"]::before,
.theme-preview [data-theme="birthday"]::before,
.theme-preview [data-theme="wedding"]::before,
.theme-preview [data-theme="wedding"]::after,
.theme-preview [data-theme="baby"]::before,
.theme-preview [data-theme="baby"]::after {
  display: none;
}

/* Logo star float animation */
@keyframes logo-star-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-50px); }
}

.logo-star-float {
  transform-box: fill-box;
  animation: logo-star-float 2s ease-in-out infinite;
}

/* Accessibility: Disable animations for reduced motion */
@media (prefers-reduced-motion: reduce) {
  [data-theme="christmas"]::before,
  [data-theme="birthday"]::before,
  [data-theme="wedding"]::before,
  [data-theme="wedding"]::after,
  [data-theme="baby"]::before,
  [data-theme="baby"]::after,
  .theme-preview-animation,
  .theme-preview-animation::after,
  .logo-star-float,
  .christmas-float-gentle,
  .christmas-float-gentle-delayed,
  .christmas-twinkle,
  .christmas-twinkle-delayed,
  .christmas-sway,
  .christmas-sway-delayed {
    animation: none;
  }
}
